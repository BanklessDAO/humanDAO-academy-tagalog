---
TITLE: Decentralized Exchanges
DESCRIPTION: Discover how smart-contract exchanges enable permissionless token swaps!
LANGUAGE: English
WRITERS: Tetranome
TRANSLATORS: X
LINK: https://app.banklessacademy.com/lessons/decentralized-exchanges
FORMAT: LESSON
---

```
__________________________________________________________________________________________________________________________________________________________

$$$$$$$\                      $$\       $$\                                      $$$$$$\                           $$\                                   
$$  __$$\                     $$ |      $$ |                                    $$  __$$\                          $$ |                                  
$$ |  $$ | $$$$$$\  $$$$$$$\  $$ |  $$\ $$ | $$$$$$\   $$$$$$$\  $$$$$$$\       $$ /  $$ | $$$$$$$\ $$$$$$\   $$$$$$$ | $$$$$$\  $$$$$$\$$$$\  $$\   $$\ 
$$$$$$$\ | \____$$\ $$  __$$\ $$ | $$  |$$ |$$  __$$\ $$  _____|$$  _____|      $$$$$$$$ |$$  _____|\____$$\ $$  __$$ |$$  __$$\ $$  _$$  _$$\ $$ |  $$ |
$$  __$$\  $$$$$$$ |$$ |  $$ |$$$$$$  / $$ |$$$$$$$$ |\$$$$$$\  \$$$$$$\        $$  __$$ |$$ /      $$$$$$$ |$$ /  $$ |$$$$$$$$ |$$ / $$ / $$ |$$ |  $$ |
$$ |  $$ |$$  __$$ |$$ |  $$ |$$  _$$<  $$ |$$   ____| \____$$\  \____$$\       $$ |  $$ |$$ |     $$  __$$ |$$ |  $$ |$$   ____|$$ | $$ | $$ |$$ |  $$ |
$$$$$$$  |\$$$$$$$ |$$ |  $$ |$$ | \$$\ $$ |\$$$$$$$\ $$$$$$$  |$$$$$$$  |      $$ |  $$ |\$$$$$$$\\$$$$$$$ |\$$$$$$$ |\$$$$$$$\ $$ | $$ | $$ |\$$$$$$$ |
\_______/  \_______|\__|  \__|\__|  \__|\__| \_______|\_______/ \_______/       \__|  \__| \_______|\_______| \_______| \_______|\__| \__| \__| \____$$ |
                                                                                                                                               $$\   $$ |
PORTABLE LESSON DATADISK COLLECTION                                                                                                            \$$$$$$  |
                                                                                                                                                \______/
__________________________________________________________________________________________________________________________________________________________
```

---

# What is a Decentralized Exchange?

Decentralized Exchanges (DEXs) are on-chain marketplaces that enable Explorers to securely exchange cryptocurrency with other users while maintaining self-custody of their wallet funds. These peer-to-peer trades are facilitated using publicly accessible smart contracts that connect users with large communal vaults of tokens. These vaults are called `liquidity pools`. DEXs can be found on almost any blockchain, and are present on Ethereum Layer 1 and 2.

Exchanging tokens is an essential part of using `DeFi`. In DeFi you‚Äôll find a greater range of token variety and utility than on any other type of exchange. Some users buy tokens to access on-chain products and services. Others purchase tokens as an investment. Some tokens grant holders voting power used to determine project direction ‚Äî much like holding shares in a traditional corporation! Regardless of your motivation, you‚Äôll be visiting DEXs on a regular basis in DeFi.

Let's learn how they work and how they can best serve you.

![](https://app.banklessacademy.com/images/decentralized-exchanges/what-is-a-decentralized-exchange-8ce458f2.svg)

# Centralized and Decentralized Exchanges

Let‚Äôs cover the differences between the technology used for a Centralized Exchange (like Coinbase, Binance, Kraken) and that of a Decentralized Exchange (like Uniswap, PancakeSwap).

Centralized Exchanges (`CEXs`) allow users to trade and invest in cryptocurrency, without engaging in the blockchain ecosystem itself. As your account is registered on the CEX, your private keys and funds are in their custody ‚Äî you are subject to their management, rules, and business model risks.

Decentralized Exchanges (`DEXs`) enable users to trade cryptocurrency entirely in self-custody ‚Äî the original intended purpose of blockchains. The peer-to-peer model allows you to act as both the consumer and the provider, accessing financial opportunities previously available only to the financial class. The blockchain system is both transparent and censorship-resistant, creating equal opportunity while protecting users from hackers, the state, or any participant seeking to gain an unfair advantage.

![](https://app.banklessacademy.com/images/decentralized-exchanges/centralized-and-decentralized-exchanges-ad25050a.svg)

# Knowledge Check 1

Which of the following is true regarding cryptocurrency exchanges?

- [ ] There is no team behind a DEX.

> ‚ÑπÔ∏è DEXs still have development teams, but their influence on the project is limited.

- [ ] The only way you can lose funds on a CEX is due to a bad trade.

> ‚ÑπÔ∏è Even CEXs have their risks. In 2022, the FTX exchange collapsed, with almost all users losing their deposits.

- [ ] DEXs allow you to trade while maintaining self-custody, while CEXs do not.

> ‚ÑπÔ∏è  Unless explicitly stated otherwise, a CEX owns your private keys.

# Decentralized Applications

DEXs are a type of `dApp` ‚Äî a decentralized application running on a blockchain. For an internet application to be considered ‚Äòdecentralized‚Äô it must indiscriminately allow anyone to use it, process their interactions without need for another person, and be written in publicly transparent code.

dApp services are facilitated using smart contracts, lines of code that take a user‚Äôs on-chain action and return a predictable on-chain response. The Ethereum Foundation compares smart contracts to vending machines, where the user inputs the number corresponding to the item they‚Äôd like to receive, plus the appropriate amount of money, and they receive an expected output (their snack) without the need for another human to facilitate the transaction.

DEX smart contracts handle a variety of commands, like token swapping, voting, or adding and removing `liquidity`.

![](https://app.banklessacademy.com/images/decentralized-exchanges/decentralized-applications-ee3321de.svg)

# Decentralized Applications (continued)

DEXs follow the same logic as the vending machine: they take a user‚Äôs input token and output the desired token. Other dApp examples include:

üéüÔ∏è **Voting dApps:** allocating a user‚Äôs vote to a specified entity.

üì¶ **Bridge dApps:** transferring a user‚Äôs cryptocurrency from one blockchain network to another.

ü§ù **Lending/Borrowing dApps:** granting loans to users who meet specified requirements.

Smart contracts are accounts on Ethereum ‚Äî they have an address and balance, performing automated actions when prompted by a transfer and command. A DEX is a programmed Ethereum account with several available functions.

`dApps` will typically use a website as a visual interface to help users interact with the underlying smart contracts. If the website is down, you can still access the smart contract with some experience!

![](https://app.banklessacademy.com/images/decentralized-exchanges/decentralized-applications-continued-c1a4b467.svg)

# Knowledge Check 2

Which of the below properties are needed for a smart contract to be considered decentralized?

- [ ] Permissionless: open access to all users.

> ‚ÑπÔ∏è This is a quality of a dApp, but it isn‚Äôt the only one.

- [ ] Autonomous: user interactions do not need an intermediary.

> ‚ÑπÔ∏è This is a quality of a dApp, but it isn‚Äôt the only one.

- [ ] Transparent: the smart contract code is publicly available.

> ‚ÑπÔ∏è This is a quality of a dApp, but it isn‚Äôt the only one.

- [ ] All of the above.

> ‚ÑπÔ∏è Ethereum dApps are respected for their capacity to be permissionless, autonomous, and transparent.

# Automated Market Makers

In traditional markets and `CEXs`, your custodian uses an order book: a database filled with buy and sell offers. The CEX connects your trade offer with another person‚Äôs. You are usually charged a base/scaling commission on your trade, and you‚Äôre also left wondering if the undisclosed matching method found you the best possible deal.

`DEXs` use ‚ÄòAutomated Market Maker‚Äô (`AMM`) technology, a matchmaking system that makes the best trade based on a public algorithm. As this algorithm is open-source, anyone can understand, clone, and improve it ‚Äî leading to healthy competition, constant innovation, and better trades for everyone.

AMMs route user trades through `liquidity pools`, rather than directly matching user bids and asks. These communal token vaults accumulate and dispense tokens according to user interactions, providing a more transparent and fair trade as compared to order book technology.

![](https://app.banklessacademy.com/images/decentralized-exchanges/automated-market-makers-018428cb.svg)

# Knowledge Check 3

What is the benefit of using AMMs to complete trades as compared to a traditional order book?

- [ ] The AMM trade is faster than an order book trade.

> ‚ÑπÔ∏è When we include network confirmation time, this isn‚Äôt necessarily true.

- [ ] AMMs connect you directly to the other user.

> ‚ÑπÔ∏è AMMs route user trades through communal token vaults, called liquidity pools, rather than directly between users.

- [ ] You can detect and prevent other parties creating one-sided trades.

> ‚ÑπÔ∏è The transparent nature of AMMs means that its a lot harder for platforms to hide malicious actions ‚Äî or for users to be malicious at all!

# Token Swaps

Cryptocurrency trades on the blockchain are called `token swaps`. These smart contract interactions are the conversion from one cryptocurrency to another, using AMM `liquidity pools`. By forming a `trade route`, a pathway through the appropriate liquidity pools, a DEX smart contract exchanges your input token for your desired output token. As liquidity pools often consist of only two tokens, and because there aren‚Äôt always liquidity pools for every `token pair`, trade routes may run through more than one liquidity pool to fulfil your swap.

In order for a smart contract to access our wallet, we grant it permission to withdraw funds up to a specified (or unlimited) amount. These `token allowances` enable trusted smart contracts to carry out our transactions without sharing our wallet private key. Granting permissions has a gas fee, so the permission is left open for future interactions with your wallet. This is one of the reasons why it is safer to use one wallet for trading, while reserving a separate wallet for holding. We‚Äôll monitor and revoke token allowances in future content!

![](https://app.banklessacademy.com/images/decentralized-exchanges/token-swaps-f1c9f932.svg)

# Token Swaps (continued)

Let‚Äôs take a look at an example swap to understand the permission and exchange process. The example is a swap between USDC to OP on Velodrome ‚Äî a large DEX on the Optimism network. This trade is often routed through two pools, as the USDC/OP `liquidity pool` isn‚Äôt as cost-efficient:

1. First, you grant the appropriate Velodrome smart contract the permission to make USDC withdrawals from your wallet.
2. You submit your swap transaction request to Velodrome.
3. The transaction is accepted: Velodrome withdraws the specified amount of USDC from your wallet, into the USDC/ETH liquidity pool. The equivalent amount of ETH exits this first liquidity pool and is transferred to the ETH/OP liquidity pool. Lastly, OP is transferred from the second liquidity pool to your wallet address.

The swap transaction is complete. Your USDC tokens have been swapped for OP, via ETH!

![](https://app.banklessacademy.com/images/decentralized-exchanges/token-swaps-continued-0af4afc8.svg)

# Knowledge Check 4

AMMs can route a trade through multiple liquidity pools, all in a single transaction.

- [ ] True

> ‚ÑπÔ∏è Correct! You might pay a higher network fee, but the actions are bundled into one transaction.

- [ ] False

> ‚ÑπÔ∏è Incorrect, check the previous slide to understand why.

# What is Liquidity?

Liquidity in the crypto space refers to a marketplace‚Äôs ability to facilitate digital asset buys and sells at fair prices. When liquidity is high, prices are more stable; when liquidity is low, prices are more volatile. As users are generally attracted to fairer prices, `DEXs` aim to have high liquidity across all of their liquidity pools.

High liquidity means there is a high quantity of tokens in the liquidity pool ‚Äî generally a 50/50 valuation split of the two tokens users are trading in and out of the pool. For example, a USDC/ETH pool facilitates all trades between this `token pair` on the host platform.
When there are more tokens, users making trades through the pool have less impact on the 50/50 asset balance, which helps prices remain stable. The amount by which any trade throws off this balance is known as `price impact`.

As an Explorer, you want the lowest price impact on your trades as possible, in order to receive the best deal! That means you want high, balanced liquidity.

![](https://app.banklessacademy.com/images/decentralized-exchanges/what-is-liquidity-99bb4930.svg)

# Liquidity Providers

Optimizing for high `liquidity` is integral to the success of a DEX ‚Äî but because there‚Äôs only so much liquidity in the cryptocurrency ecosystem, each DEX is in competition to capture as much liquidity as possible. So where does this liquidity come from?

In a decentralized ecosystem, DeFi citizens are incentivized to provide liquidity to a given pool to raise the TVL (total value locked) on a platform. Fees gathered from users making trades through the pool are distributed to the LPs (liquidity providers) based on the amount of liquidity provided. You heard that right: by lending your tokens to a DEX liquidity pool, you can generate passive income.

There are a variety of considerations when becoming an `LP`, and we‚Äôll cover this in future content. For now, know that the large APRs (annual percentage rates) displayed across DEX liquidity pools aren‚Äôt guaranteed, and there can be losses.

![](https://app.banklessacademy.com/images/decentralized-exchanges/liquidity-providers-cd2b7547.svg)

# Knowledge Check 5

Finish the statement: ‚ÄúWhen liquidity is __________.‚Äù

- [ ] high, volatility is high.

> ‚ÑπÔ∏è Incorrect, try again.

- [ ] low, volatility is low.

> ‚ÑπÔ∏è Incorrect, try again.

- [ ] low, volatility is high.

> ‚ÑπÔ∏è Right! Liquidity and volatility are generally inversely-correlated.

# Knowledge Check 6

How do DEXs incentivize users to provide liquidity?

- [ ] Insurance for trade losses.

> ‚ÑπÔ∏è Neither CEXs or DEXs protect you from losses on a bad investment.

- [ ] A share of platform fees and/or bonus tokens.

> ‚ÑπÔ∏è The fees charged to use the DEX are often split across various platform stakeholders ‚Äî including LPs. Some platforms even grant additional bonuses.

- [ ] Access to private liquidity pools.

> ‚ÑπÔ∏è There are no private liquidity pools, low traffic would likely not provide adequate returns.

- [ ] All of the above.

> ‚ÑπÔ∏è There‚Äôs only one correct answer here, can you figure out which one it is?

# Platform Fees

Both CEXs and DEXs usually charge fees for the services they provide. While the automation of DEX and AMM technology has reduced the cost for exchanging cryptocurrency, interacting with the blockchain is not free of charge. Let‚Äôs take a look at five common costs to consider when deciding which platform to use.

üè∑Ô∏è **Platform fees:** Approximately 0.5% commission on each trade for most CEXs, and 0.05% for most DEXs. These can fluctuate.

üåê **Network fees:** Blockchains charge gas fees on top of the dApp transaction. You can minimize these costs by using the network during low periods of activity. Etherscan.io has a real-time estimate tool for various Ethereum Mainnet actions here: [Etherscan.io](https://etherscan.io/gastracker) (for DEXs, refer to the ‚ÄòSwap‚Äô action). On Layer 2s, fees are far cheaper: [l2fees.info](https://l2fees.info/)

üì¶ **Bridge fees:** Both CEXs and the blockchain will charge a flat rate for transferring cryptocurrency from one blockchain network to another. For CEXs, refer to their on-site information. For the blockchain, check out the ‚ÄòDeposit‚Äô action on [Etherscan.io](https://etherscan.io/gastracker).

üíπ **Exchange rates:** When buying cryptocurrency directly with fiat on a CEX or DEX, be wary of exchange rates that don‚Äôt reflect the market rate.

üßä **Slippage:** As prices change so quickly in this space, DEXs leave room for fluctuations on a swap ‚Äî this is called `slippage`. This percentage value is customizable, with most dApps recommending 0.5-2%. You may lose up to the slippage value on a trade to have it executed, but if your slippage range is too low the trade might be rejected.

As you can see, there are many factors to consider when comparing exchange fees. It‚Äôs always best to do your own research before making a trade to make sure the platform's advantages and disadvantages are understood.

# DEX Advantages

We‚Äôve covered a lot of theory in this lesson, but you might still be wondering if DEXs are for you. Generally speaking, you are probably going to benefit from Decentralized Exchanges if:

- üîë You want to retain custody over your digital assets.
- üîí You want to secure your assets on the blockchain, avoiding CEX collapses.
- ‚åõ You want 24/7 access to the cryptocurrency market.
- üëõ You want access to a wider range of cryptocurrencies.
- ü§ë You are interested in providing liquidity.
- üõÇ You don‚Äôt want to register and `KYC` on every platform you interact with.
- ‚öîÔ∏è You seek the additional risks and rewards of exploring Decentralized Finance.

With that said, almost every DeFi user has an account on a Centralized Exchange. This is because CEXs have easy on/off ramp features to the traditional banking world; you can easily get money from your bank account onto the blockchain and vice-versa. [Ryan Sean Adams](https://twitter.com/RyanSAdams) compares this to using a public bathroom: _‚ÄúYou go in, you do your business, you get out.‚Äù_

This is great because it means you can start with a CEX account and slowly transition to DeFi as you become more confident in navigation.

# DEX Risks

Using a DEX also comes with risk. Here are a few of the most impactful:

üêû **Smart contract risk:** While audits reduce the chances of smart contract bugs, they still exist. In a rare, worst-case scenario, you could lose up to your trade amount to a bug. Only interact with trusted, heavily audited smart contracts.

üí∞ **Self-custody risk:** Sole responsibility for your private keys means you could lose an entire wallet to theft, scams, or a misplaced seed phrase. This is why it is important to mitigate risk with a multi-wallet strategy, and to always keep a copy of your seed phrases backed up in a secure, real-world location.

ü•™ **Sandwich attacks:** Setting your swap slippage high increases the likelihood of trade frontrunners coordinating `sandwich attacks` against you. In a sandwich attack, you could lose up to your slippage amount on a trade. We‚Äôll cover how to protect yourself from this style of attack in future content.

With these advantages and risks considered, a CEX might be a better fit for you if:

- üéì You‚Äôre still early in your cryptocurrency journey, working to understand the risks and rewards.
- ‚öñÔ∏è Your trade frequency and volume are small, making blockchain fees an unrealistic cost.
- üè∞ You‚Äôd prefer to trust an exchange to watch your funds, rather than being responsible for them.

Some users take a hybrid approach to lower their overall risk, using a CEX to buy and sell their cryptocurrency, while storing it on the blockchain itself.

# Knowledge Check 7

Why would you use a Decentralized Exchange over a Centralized Exchange?

- [ ] You want to access tokens not listed on a Centralized Exchange.

> ‚ÑπÔ∏è This is a quality of a DEX, but it isn‚Äôt the only one.

- [ ] You want to retain full custody over the exchanged funds.

> ‚ÑπÔ∏è This is a quality of a DEX, but it isn‚Äôt the only one.

- [ ] You‚Äôd like to access tools and opportunities not traditionally available to you.

> ‚ÑπÔ∏è This is a quality of a DEX, but it isn‚Äôt the only one.

- [ ] All of the above.

> ‚ÑπÔ∏è Right! DEXs offer all of these benefits over CEXs.

# Choosing a DEX

There are many Decentralized Exchanges in DeFi, and some are better than others. Consider these five key factors when deciding on which DEX to use:

ü•á **Legitimacy****:** Is the entity well known for its trustworthiness, quality, and longevity?

‚õ≤ **Liquidity:** Is the liquidity pool `TVL` high enough to minimize price impact?

üñ±Ô∏è **Ease of use:** Is the user interface easy to interact with?

üîê **Security:** Have the smart contracts been audited by multiple auditors?

üéÅ **Rewards and Features:** Are there loyalty rewards for using the exchange or providing liquidity? Can you vote in governance?

Notable names that score highly in these areas include Uniswap, Curve, Velodrome, and Balancer. You can easily move from one DEX to another until you find a few favorites! For the lesson quest, we‚Äôre going to use Velodrome ‚Äî the number one DEX by TVL on Optimism. It‚Äôs well known, easy to use, has the deepest liquidity on the network, and because it‚Äôs on L2 the fees are far more reasonable!

# DEX Best Practices

Before you interact with a dApp, there are some best practices you should follow to keep your funds safe:

üë©‚Äçüíª Always verify the link to a dApp by checking the official project Twitter (gold check mark) or a trusted third party, and bookmark it once you‚Äôve validated it. A variety of DeFi scams begin with a fake link ‚Äî even on popular search engines.

üîì When prompted to grant on-chain `token allowances` to a smart contract, limit the allowance to your trade amount to prevent future access to your funds.

‚ôüÔ∏è Don‚Äôt interact with dApps via your HODL wallet. It‚Äôs better to use a separate wallet just for dApps in case anything goes wrong. Check out our [Web3 Security lesson](https://app.banklessacademy.com/lessons/web3-security) for more information on wallet strategies, and how to stay safe in web3.

Now you‚Äôre ready to interact with a Decentralized Exchange!

![](https://app.banklessacademy.com/images/decentralized-exchanges/dex-best-practices-4a9ebcd4.svg)

# Knowledge Check 8

How can you be sure you‚Äôve chosen a reputable DEX?

- [ ] By independently checking its online reputation and only following URLs provided by a trusted party.

> ‚ÑπÔ∏è Right, only interacting with trustworthy URLs is a good layer of protection.

- [ ] By performing a small test interaction when using the platform for the first time.

> ‚ÑπÔ∏è A single interaction with a bad smart contract can drain your entire wallet.

- [ ] Both of the above.

> ‚ÑπÔ∏è Incorrect. A single interaction with a bad smart contract can drain your entire wallet.

